# 第一章  现安全治理的原则和策略

## 1.1 理解和应用保密性、完整性及可用性的概念
安全的主要目标，CIA三元组 保密性、完整性和可用性，每条原则的重要性主要取决于组织的安全目标以及安全性所受到的威胁程度

### 1.1.1 保密性
* 保密性：不向未经授权的主体泄露客体信息。
* 目标：阻止或最小化未经授权的数据访问
* 针对保密性的攻击：抓包网络流量、窃取密码文件、社会工程、端口扫描、肩窥、窃听、嗅探，特权提升
* 违反保密性的事件：未正确实现加密传输、在传输数据前未对远程系统充分进行身份验证、开放的非安全访问点、访问恶意代码打开的后门、错误路由传真、文件遗留在打印机上、访问终端仍显示数据时走开。
* 有助于保密性的对策： 加密、填充网络流量、严格的访问控制、严格的身份验证程序、数据分类和充分的人员培训
* 其他概念、条件和特征包括：敏感性、判断力、关键性、隐藏、保密、隔绝、隔离
* 保密性和完整性相互依赖

### 1.1.2 完整性
* 完整性：保护数据可靠性和正确性的概念。完整性保护措施防止了未经授权的数据更改，它确保数据保持正确、未被替换。
* 验证完整性的三个方面：1.防止未经授权的主题进行修改；2.防止授权主题进行未经授权的修改；3.保持课题内外一致，任何子客体、对等客体或父客体的关系有效，一致和可验证。
* 针对完整性的破坏： 病毒、逻辑炸弹、未授权访问、编码和应用程序的错误、恶意修改、故意替换以及系统后门，人为错误
* 保护完整性的措施：严格的访问控制、严格的身份验证流程、入侵检测系统、客体/数据加密、散列值验证、接口限制、输入/功能检查以及充分的人员培训
* 其他概念、条件和特征包括：准确性、真实性、可信性、有效性、不可否认性、问责制、职责、完整性、全面性。
* 完整性依赖保密性
* 不可否认性：确保事件的主体或引发事件的人不能否认事件的发生。通过标识、身份验证、授权、问责制和审计使不可否认性成为可能。
* 不可否认性的措施：可通过数字证书、绘画标识符、事务日志及其他需要事务性机制和访问控制机制来试试不可否认性。

### 1.1.3 可用性
* 可用性：授权的主体被及时的、不间断的客体权限
* 针对可用性的威胁：设备故障、软件错误、环境问题、DOS攻击、客体损坏和通信中断、人为错误（意外删除文件、滥用硬件或软件组件、资源分配不足、错误标记或错误的客体分类）
* 可用性防御的措施：中专传递系统、有效使用访问控制、监控性能和网络流量、使用防火墙和路由器防止DoS攻击、对关键系统实施冗余机制以及维护和测试备份系统。
* 其他概念、条件和特征包括：可用性、可访问性、及时性
* 可用性依赖完整性和保密性，缺乏完整性和保密性无法维护可用性

### 1.1.4 其他安全概念
1. 标识
	* 当试图访问受保护的区域或系统时声明自己的身份，标识是主体申明身份和责任的过程
2. 身份验证
	* 验证或测试声明的身份是否有效的过程称为身份验证
	* 身份验证因子：你知道的东西（如密码，PIN），你拥有的东西（如密钥、令牌、智能卡），你具备的东西（即生物特征识别，如指纹‘虹膜或语音识别）
3. 授权
	* 对通过验证的身份所请求的活动或对客体的访问时可以被赋予的权利和特权（如：允许、授权和/或拒绝）
	* 访问控制矩阵（主体、客体、预期的活动）
	* 使用访问控制模型定义授权，如自主访问控制(Discretionary Access Control DAC)、强制访问控制(Mandatory Access Control, MAC)、基于角色的访问控制(Role Based Access Control, RBAC或角色BAC)
4. 审计
	* 追踪和记录主体的操作，以便在验证过的系统中让主体对其行为负责的程序化过程。也是对未经授权的或异常的活动进行检测的过程。
5. 记账（问责制）
	* 通过审计日志文件来核查合规和违规情况，以便让主体对自身行为负责
	* 有效的问责制依赖于检验主体身份及追踪其活动的能力。通过安全服务和审计、身份验证、授权和身份标识等机制，将人员与在线身份的活动联系起来，进而建立问责制。人员问责制最终取决于身份验证过程的强度。

### 1.1.5 保护机制
许多控制通过使用保护机制对保密性、完整性和可用性保护。

* 分层
	* 简单的使用连续的多重控制，也被称为纵深防御，使用串行层。
	* 分层还包括网络由多个独立实体组成的概念，每个实体都有自己独特的安全控制和脆弱性。所有联网系统之间存在协同作用，构建安全防线。
* 抽象
	* 为提高效率，将相似的元素放入组、类或角色中作为一个集合被指派安全控制、限制或许可。
	* 抽象使你可将安全控制分配给按类型或功能归类的客体集，由此简化安全。
* 数据隐藏：
	* 将数据置存放在主体无法访问或读取的逻辑存储空间以防止数据被泄露或访问。
	* 数据隐藏的形式：防止未经授权的访问者访问数据库、限制安全级别较低的主体访问安全级别较高的数据‘组织应用程序直接访问春初硬件
	* 隐匿与数据隐藏的区别：隐匿是指不告知主体由客体的存在，从而希望主体不发现该客体。并没有提供任何形式的保护。
* 加密
	* 是关于对非预期的接收者隐藏通信的真实含义和意图的艺术与科学。
	* 适用类型：文本、音频、视频文件及应用程序，加密是安全控制中的重要内容，特别是在系统间传输数据时。

## 1.2 评估和应用安全治理原则
* 安全治理是与支持、定义和指导组织安全工作相关的实践集合。
* 安全治理原则通常与公司和IT治理密切相关，并常常交织在一起。
* 安全治理的共同目标就是维护业务流程，同时努力实现增长和弹性
* 安全治理指实施安全的解决方案以及与之密切关联的管理方法，安全治理直接监督并设计所有级别的安全。安全不完全是IT事务。
* 安全治理通常由治理委员会或至少由董事会管理，他们主要任务是监督和指导组织安全与运营行动。

### 1.2.1 与业务战略、目标、使命和宗旨相一致的安全功能
* 安全管理计划能确保正确的创建、实现和实施安全策略。这包括基于业务场景、预算限制或资源稀缺来设计和实现安全。
* 最能有效处理安全管理计划的一个方法是自上而下。上层、高级或管理部门负责启动和定义组织的策略。安全策略为组织架构内的各个级别提供指导。中层管理人员负责将安全策略落实到标准、基线、指导方针和程序。然后，操作管理人员或安全专业人员必须实现安全管理文档中规定的配置。最后，最终用户必须遵守组织的所有安全策略。
* 安全管理是上层管理人员的责任，而不是IT人员的责任。
* 安全管理计划内容包括：定义安全角色；规定如何管理安全、由谁负责安全性以及如何检验安全性的有效性，指定安全策略，执行风险分析；对员工进行安全教育。这些工作都通过指定管理计划来完成。
* 如果没有高级管理人员批准安全计划，这个关键过程，即使最好的安全计划也毫无用处。指定和执行安全策略体现了高级管理人员的应尽关心(due care)和尽职审查(due diligence).
* 安全管理计划团队开发的三种计划
* 战略计划：相当稳定的长期计划，定义组织的目的，讨论了未来的长期的目标和愿景，还包括风险评估。有效期大约是5年。
* 战术计划：为实现战略计划设定的目标提供跟多详细细节的中期计划或可根据不可预测的事件临时制定。规定了安全实现组织目标所需任务。包括项目计划、采购计划、招聘计划、预算计划、维护计划、支持计划以及系统开发计划。有效期大约是1年左右。
* 操作计划：在战略计划和战术计划的基础上制定的短期、高度详细的计划，操作计划必须经常更新（如每月或每季）阐明了如何完成组织的各种目标，包括：资源分配、预算需求、人员分配、进度安排与细化或执行程序。操作计划的实例包括：培训计划、系统部署计划和产品设计计划。只在短时间类有效或有用。

### 1.2.2 组织流程
* 安全治理关注组织的方方面面，包括收购、剥离和治理委员会的流程。收购与兼并会增加组织的分线级别。
1. 变更控制/变更管理
* 安全环境的改变可能引入漏洞、重叠、客体丢失和疏忽进而导致出现新脆弱性。面对变更，维护安全性的唯一方法就是系统的变更管理。
* 变更管理的目标是确保变更不会消减或损坏安全。首要目标是使所有变更能被详细记录和审计，从而使变更能被管理曾检查和审核。变更管理还负责能让变更能回滚到变更前的安全状态。
* 变更管理可在任何系统上实现而不考虑安全级别。
* 变更管理过程的一个实例是并行运行，旧系统和新系统并行运行，确保新系统支持老系统所支持和提供的所有必须的业务功能性
* 变更管理的目标或要求：
	* 1.在受监控的环境中有序实施更改；
	* 2.包含正式的测试过程，验证变更能实现预期效果；
	* 3.所有变更能够撤销（回退或回滚）；
	* 4.变更实施前通知用户以防止影响生产效率；
	* 5.对变更影响进行系统性分析，以确定变更是否会对安全或业务流程产生负面影响；
	* 6.最小化变更对能力、功能和性能方面的负面影响；
	* 7.变更顾问委员会(CAB)需要评审和批准变更。
2. 数据分类
* 分类的主要目的：基于数据的保密性、敏感性和秘密性需求而对其进行保护的主要手段，对数据分类是将安全控制分配过程简化成分配给一组客体而不是单个客体。
* 政府/军方分类： 绝密（基于“致其所需”划分）、秘密（限制性质的数据）、机密(敏感的、专有的或高度价值的数据)、敏感但未分类（内部或办公使用，侵犯个人隐私权的信息）、未分类
* 商业/私营部门的分类： 机密（极度敏感、内部使用）、私有（个人特有，供内部使用）、敏感、公开

### 1.2.3 安全角色和责任
* 高级管理者：最终对组织安全的维护及最关心保护资产的人，高层管理者对安全解决方案的总体成功或失败负有责任，负责启动和定义安全策略，并负责在为组织建立安全方面给予应尽关注和实施尽职审查。
* 安全专业人员：负责落实高级管理者下达的指示。职责是保护安全性，包括编写和执行安全策略，安全专业人员不是决策者，而是实现者，所有决策都必须由高级管理者决定。
* 数据所有者：分配给在安全解决方案中负责布置和信息分类的人员，数据所有者通常是高级管理人员，他们最终对数据保护负责。
* 数据托管员：负责实施安全策略与高级管理者规定的保护任务的人员，这些活动包括：执行和测试备份，验证数据完整性，部署安全解决方案以及基于分类数据存储
* 用户：分配给能够访问安全系统的人员，他们只有足够的访问权限来执行工作岗位所需的任务（最小特权原则）。
* 审计人员：负责审查和验证认证安全策略是否正确执行，以及相关的安全解决方案是否完备。审计人员出具由高级管理者审核的审计报告，高级管理者将在这些报告中发现的问题作为新的工作内容分配给安全专业人员或数据托管员。
* 上层或高级管理者负责启动和定义组织的策略，中层管理人员负责将安全策略落实到标准、基线、指南和程序。操作人员或安全专业人员实现安全管理文档中规定的配置。最后，最终用户总受组织的所有安全策略。
### 1.2.4 安全控制架构
* 安全管理计划包括定义及安全角色、指定安全策略、执行风险分析以及要求员工接受安全教育。
* 安全指定计划必须首先指定计划，然后规划标准和合规，最后实际开发和设计计划。
* 安全控制框架
	* 信息和相关技术控制目标（COBIT）五大关键原则：1.满足利益相关方的需求，2.从端到端覆盖整个企业，3.使用单一的集成框架，4.采用整体分析法，5.把治理从管理中分离出来
* IT安全其他标准和指南
	* 1.开源安全测试方法手册；2.ISO/IEC 27002,可作为实施组织信息安全及相关管理实践的基础；3.信息技术基础设施库。

### 1.2.5 应尽关心和尽职审查
* 应尽关心(due care)：使用合理的关注来保护组织利益，指定一种正式的安全框架，包含安全策略、标准、基线、指南和程序。
* 尽职审查(due diligence)：具体的实践活动。是指将这种安全框架持续应用到组织的IT基础设施上。
* 高管必须做到应尽关注和应尽职责才能在出现损失时减少他们的过过失和职责

## 1.3 开发、记录和实施安全策略、标准、程序和指南
维护安全是业务发展的重要组成部分

### 1.3.1 安全策略
* 规范化的最高层次文件是安全策略，安全策略定义了组织所需的安全范围，讨论需要保护的资产以及安全解决方案需要提供的必要保护程度。
* 安全策略是对组织安全需求的概述和归纳，定义了主要安全目标，概述了组织的安全框架。确定了数据处理的主要功能领域，澄清和定义了所有相关术语。定义了为什么安全性是重要的，那些资产是有价值的。安全策略是安全实施的战略计划，概述为保护组织利益而应采取的安全目标和做法，还讨论了安全对日常业务运营的各个方面的重要性，以及高级管理者支持安全策略的重要性。安全策略用于分配职责、定义角色、指定审计需求、概述实施过程、确定合规性需求和定义可接受的风险等级。安全策略用来证明高级管理者在保护组织免受入侵、攻击和灾难是已经给予了应尽关心。安全策略是强制性的。
* 除了特定类型的安全策略外，还有三大类综合的安全策略：监管性策略、建议性策略和信息性策略。
* 监管性策略：组织由需要总受的行业或法律标准时需要监管性策略。
* 建议式策略：讨论可接受的行为和活动，并且定义违规的后果，它说明了高层管理者对组织内安全性和合规性的期望
* 信息式的安全策略：提供关于特定主体的信息或知识

### 1.3.2 标准、基线和指南
* 标准：提供了在整个组织中同意实施技术和程序的操作过程。标准是战术计划文档，规定了达到安全策略定义的目标和总体方向的步骤或方法。
* 基线：定义了整个组织中每个系统必须满足的最低安全级别。
	* 行业或政府标准：TCSEC（可信计算机系统评估标准）,ITSEC（信息技术安全评估和标准）,NIST（美国国家标准与技术研究院）
* 指南：提供了关于如何实现标准和基线的建议。

### 1.3.3 程序
* 程序：描述了实现特定安全机制、控制或解决方案所需的具体操作。
* 标准操作程序(Standard Operating Procedure, SOP)是详细的分步实施文档。

## 1.4 理解与应用威胁建模的概念和方法
威胁建模是识别、分类和分析潜在威胁的安全过程。威胁建模可当作设计和开发期间的一种主动措施被执行，也可做为产品部署后的一种被动措施执行。威胁建模过程都识别了潜在危害、发生的可能性、关注的优先级以及消除或减少威胁的手段。
* 威胁建模类型：
	* 安全开发生命周期(SDL)，这种做法支持“设计安全，默认安全，部署和通信安全”(SD3+C).目标：1.降低与安全相关设计和编码的缺陷数量；2.降低剩余缺陷的严重程度。
主动式威胁建模发生在系统开发的早期阶段，被动式威胁建模发生在产品创建与部署后。	

### 1.4.1 识别威胁
* 识别危险的方法：关注资产，关注攻击者；关注软件
* STRIDE威胁分类方案：欺骗、篡改、否认、信息泄露、拒绝服务、特权提升
* 攻击模拟和威胁分析(PASTA)的威胁建模方法七个阶段：
	* 1.为风险分析定义目标
	* 2.定义技术范围
	* 3.分解和分析应用程序
	* 4.威胁分析
	* 5.软垫和脆弱性分析
	* 6.攻击建模与仿真
	* 7.风险分析和管理
* Trike是另一种基于风险的威胁建模方法
* VAST是另一种基于敏捷项目管理和编程原则的威胁建模概念

### 1.4.2 确定和绘制潜在的攻击
* 威胁建模的下一步就是确定可能发生的潜在攻击。

### 1.4.3 执行简化分析
* 威胁建模的下一步就是执行简化分析。简化分析也成为分解应用程序、系统或环境。
* 目的：更改的理解产品的逻辑及其外部元素的交互。需要划分为更小的容器或单元。
* 分解过程中确定的五个关键概念：1.信任边界；2.数据流路径；3.输入点；4.特权操作；安全申明和方法的细节。

### 1.4.4 优先级排序和相应 
* 下一步是全面记录这些威胁，在这个文档中，应该说明威胁的手段、目标和后果。
* 概率 * 潜在损失排序、高/中/低评级或DREAD系统
* DREAD系统对每个威胁的五个重要问题回答：1.潜在破坏；2.可再现性；3.可利用性；4.受影响用户；5.可发现行。

## 1.5 将基于分线的管理理念应用到供应链
在为安全集成而评估第三方是考虑的过程：1.现场评估；2.文件交换和审查；3.过程/策略审查；4.第三方审计

## 书面实验
1. 讨论和描述CIA三元组。
* CIA三元组是保密性、完整性和可用性的结合。保密性是指用于保护数据、对象或资源的影迷行的措施。完整性是保护数据可靠性和正确性的概念。可用性是指被授权的主体能即使不间断的访问对象。CIA三元组这个属于用来标识安全解决方案的三个关键组件。

2. 要求某人对其用户账户的行为负责的要求是什么？
* 问责制的要求是标识、身份验证、授权和审计。这些组成部分都需要法律上的支持，才能真正让某人对自己的行为负责。

3. 描述变更控制管理的好处。
* 变更控制管理的好吃包括：防止由于不受控制的变更而导致不必要的降低安全性，记录和跟踪环境、标准化、使所有更改符合安全策略，以及在不需要或意外结果发生使回滚更改的能力。

4.实施分类计划的七个主要步骤或阶段是什么？
	* 1.确定管理人员，并定义其职责。
	* 2.指定信息如何进行分类和标记的评估标准。
	* 3.对每个资源进行数据分类和增加标签（）。
	* 4.记录数据分类策略中发现的任何一场，并集成到评估标准中。
	* 5.选择将应用与每个分类级别的安全控制措施，以提供必要的保护级别。
	* 6.指定接触资源分类的流程，以及将资源保管权转移给外部实体的流程。
	* 7.建立一个组织范围的培训程序来指导所有人员使用分类系统。

5. 请说出CISSP定义的六个主要安全角色名称。
* 高级管理者、IT/安全人员、数据所有者‘数据托管员、操作员/用户和审计人员。

6. 完整的住址安全策略有哪四个组成部分？其目的是什么？
* 四个组成部分使策略、标准/基线、指南和程序。策略使广泛的安全申明。标准使硬件和软件安全合规性的定义。当没有合适的程序时，可使用指南。程序是以安全方式执行工作任务的详细分布说明。
